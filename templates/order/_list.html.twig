
  <!--<div id="content-container" class="orders-table-container"> -->
  {% set button_status_order = false %}
  {% set button_status_glass = false %}
  {% set button_status_detail = false %}
  {% set button_status_mosquito = false %}
  {% set filterForm = false %}
 
    <turbo-frame id="orders-list" data-turbo-action="advance"> 
    <div class="table-responsive-sm p-0 mt-2">
    <table class="table table-sm table-hover table-sticky" id="order-table">
        <thead class="thead-light">
            <tr>
                <th>
               
                    –ù–æ–º–µ—Ä
                    {% if sort == 'id' %}
                        <!-- –ü–æ–∫–∞–∑–≤–∞–π —Å—ä–æ—Ç–≤–µ—Ç–Ω–∞—Ç–∞ —Å—Ç—Ä–µ–ª–∫–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç —Ç–µ–∫—É—â–æ—Ç–æ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ -->
                        {% if sortDirection == 'asc' %}
                        <a href="{{ path('app_order', 
                            app.request.query.all() | merge({'sort': 'id', 'sortDirection': 'asc'})
                        ) }}" target="_top" title="—Å–æ—Ä—Ç–∏—Ä–∞–π –≤—ä–∑—Ö–æ–¥—è—â–æ">
                        &#9660; <!-- –°—Ç—Ä–µ–ª–∫–∞ –∑–∞ –≤—ä–∑—Ö–æ–¥—è—â–æ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ -->
                        </a>
                        &#9609;
                        {% else %}
                        <br>
                        &#9609;
                        <a href="{{ path('app_order', 
                            app.request.query.all() | merge({'sort': 'id', 'sortDirection': 'desc'})
                        ) }}" target="_top" title="—Å–æ—Ä—Ç–∏—Ä–∞–π –Ω–∏–∑—Ö–æ–¥—è—â–æ">
                             &#9650; <!-- –°—Ç—Ä–µ–ª–∫–∞ –∑–∞ –Ω–∏–∑—Ö–æ–¥—è—â–æ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ -->
                        </a>
                    {% endif %}
                    {% else %}
                        <a href="{{ path('app_order', {
                            'sort': 'id',
                            'sortDirection': 'desc'
                        }) }}" target="_top" title="—Å–æ—Ä—Ç–∏—Ä–∞–π –Ω–∏–∑—Ö–æ–¥—è—â–æ">
                            &#9650;
                        </a>
                         <a href="{{ path('app_order', {
                            'sort': 'id',
                            'sortDirection': 'asc'
                        }) }}" target="_top" title="—Å–æ—Ä—Ç–∏—Ä–∞–π –≤—ä–∑—Ö–æ–¥—è—â–æ">
                            &#9660; <!-- –°—Ç—Ä–µ–ª–∫–∞ –Ω–∞–¥–æ–ª—É (—Ç—Ä–∏—ä–≥—ä–ª–Ω–∏–∫) -->
                        </a>
                    {% endif %}
                
                </th>
                <th>–ö–ª–∏–µ–Ω—Ç</th>
                <th class="short-version">–°—Ö–µ–º–∞</th>
                <th>–¢–∏–ø</th>
                <th>m2</th>
                <th>–æ—Ç –¥–∞—Ç–∞</th>
                <th>–∑–∞ –¥–∞—Ç–∞</th>
                <th>—Ü–µ–Ω–∞</th>
                <th>–ø–ª–∞—Ç–µ–Ω–æ</th>
                <th>
                
                    –î—ä–ª–∂–∏–º–∞ —Å—É–º–∞
                    {% if sort == 'id' %}
                        <a href="{{ path('app_order', {
                            'sort': 'balance',
                            'sortDirection': 'asc'
                        }) }}" target="_top">
                        &#9660;
                    {% else %}
                        &#9609;
                    {% endif %}
                </a>
                </th>
                <th>–ø–ª–∞—â–∞–Ω–µ</th>
                <th>—Å—Ç–∞—Ç—É—Å</th>
                <th>—Å—Ç—ä–∫–ª–æ–ø–∞–∫–µ—Ç</th>
                <th>–¥–æ–ø. –ø—Ä–æ—Ñ–∏–ª</th>
                <th>–∫–æ–º–∞—Ä–Ω–∏–∫</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for order in orders %}
            <tr >
                <td> <a href="{{ path('app_reference_order', {'orderId': order.id}) }}" target="_top" title='–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∑–∞ –ø–æ—Ä—ä—á–∫–∞'>{{ order.number }} </a>
                 <br>
                    {# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ –∏–º–∞ –∑–∞–±–µ–ª–µ–∂–∫–∞ –∏ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∞ –∏–∫–æ–Ω–∫–∞ –∏ —Ü–≤—è—Ç #}
                    <a href="#" data-bs-toggle="modal" data-bs-target="#note-modal-{{ order.id }}"title={{order.note}}>
                    {% if order.note %}
                        <i>üìù</i> {# –ò–∫–æ–Ω–∫–∞ –∑–∞ –∑–∞–±–µ–ª–µ–∂–∫–∞, –∞–∫–æ –∏–º–∞ —Ç–∞–∫–∞–≤–∞ #}
                    {% else %}
                        <i class="fas fa-book" style="color: black;"></i> {# –ò–∫–æ–Ω–∫–∞ –∑–∞ –ª–∏–ø—Å–∞ –Ω–∞ –∑–∞–±–µ–ª–µ–∂–∫–∞ #}
                    {% endif %}
                    </a>

                    {# –ú–æ–¥–∞–ª–µ–Ω –ø—Ä–æ–∑–æ—Ä–µ—Ü –∑–∞ –ø–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –∑–∞–±–µ–ª–µ–∂–∫–∞—Ç–∞ #}
                    <div class="modal fade" id="note-modal-{{ order.id }}" tabindex="-1" aria-hidden="true">
                        <div class="modal-dialog modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">–ó–∞–±–µ–ª–µ–∂–∫–∞ –∑–∞ –ø–æ—Ä—ä—á–∫–∞ ‚Ññ {{ order.id }}</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    {% if order.note %}
                                        {{ order.note }}
                                    {% else %}
                                        <p>–ù—è–º–∞ –∑–∞–±–µ–ª–µ–∂–∫–∞.</p>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
                <td> <a href="{{ path('app_reference_customer', {'customerId': order.customer.id}) }}" target="_top" title='–í—Å–∏—á–∫–∏ –ø–æ—Ä—ä—á–∫–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞'>{{ order.customer.name }} </td>
                
                {% if order.scheme == NULL %}
                <td class="short-version"> 
                    –ù—è–º–∞
                </td>
                {% else %}
                <td class="short-version"> 
                <a href="{{ asset('uploads/' ~ order.scheme) }}" target="_top">–í–∏–∂ —Å—Ö–µ–º–∞</a>
                </td>
                {% endif %}
                <td> {{ order.type.name }} </td>
                <td> {{ order.quadrature }} </td>
                <td >  
                <form action="{{ path('app_reference_date') }}" method="POST" data-turbo="false" >
                    <input type="hidden" name="date" value="{{ order.createdAt|date('d.m.Y') }}">
                    <button type="submit" class="btn btn-info">{{ order.createdAt|date('d.m.Y') }} </button>
                </form> 
                </td>
                <td> {{order.forDate|date('d.m.Y')}}</td>
                <td> {{ order.price }}</td>
                <td> {{ order.paid }}</td>
                
                <td class="{% if (order.price - order.paid) == 0 %}green{% else %}red{% endif %}">
                    {{ order.price - order.paid }}
                </td>
                <td style="text-align: center; vertical-align: middle;">
                    <form action="{{ path('app_payment_payables') }}" id="payment-form-{{ order.id }}" data-turbo="false">
                        <input type="hidden" id="customerId-{{ order.id }}" name="customerId" value="{{ order.customer.id }}">
                        <button type="submit" class="btn" style="background: none ; border: none ; padding: 0; cursor: pointer;">
                        <i class="fas fa-dollar-sign" title="–ü–ª–∞—â–∞–Ω–µ" style="font-size: 24px; color: #053210;"></i> 
                        </button>
                    </form>
                </td>
                {% if order.status == null %}
                    {% set button_status_order = false %}
                    <td> –Ω—è–º–∞</td> 
                {% elseif order.status.id == lastStatus.lastStatusOrder.id %} 
                    {% set button_status_order = false %}
                    <td class="last"> {{ order.status.name }} </td>
                {% elseif checkbox_status_order %} 
                    {% set button_status_order = true %}
                    <td> {{order.status.name}}
                    <br>
                    <input type="checkbox" name="selectedOrders_status[]" value="{{ order.id }}" data-status="{{ order.status.id }}" data-title="–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å –∑–∞ –ø–æ—Ä—ä—á–∫–∞ ">
                     –ü—Ä–æ–º–µ–Ω–∏ </br>
                    <div {{ stimulus_controller('modal-form',{
                                formUrl: path('app_status_order'),})
                            }}
                                data-action="hidden.bs.modal->modal-form#modalHidden"
                                >
                                <button
                                    style="display: none;" 
                                    data-action="modal-form#openModal"
                                    data-order-id="hidden-modal"
                                    data-current-page="hidden"
                                    >—Å–∫—Ä–∏—Ç –±—É—Ç–æ–Ω</button> 
                            {{ include('_modal.html.twig', {
                                modalTitle: '–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å'
                                }) 
                            }}      
                    </div>
                    </td>        
                {% else %}
                    {% set button_status_order = false %}
                    <td class="{% if (order.status.name) == '–ü—Ä–∏–µ—Ç–∞' %}first
                               {% elseif(order.status.name) == '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ' %}second
                               {% elseif(order.status.name) == '–ì–æ—Ç–æ–≤–∞' %}third
                               {% endif %}">
                     {{order.status.name}}
                        <div class="d-flex flex-row">
                            <div {{ stimulus_controller('modal-form',{
                                    formUrl: path('app_status_order', {'orderId': order.id, 'currentPage': currentPage}),})
                                    }}
                                    data-action="hidden.bs.modal->modal-form#modalHidden"
                                    >
                                    {% if showCheckboxes == true %}
                                        {% set filterForm = true %}
                                    {% endif %}
                                    <button
                                        class="btn btn-primary btn-sm" 
                                        data-action="modal-form#openModal reload-content#updateUrl"
                                        data-order-id="{{ order.number }}"
                                        data-current-page="{{ currentPage }}"
                                        data-filter-form="{{ filterForm }}"
                                        >–ø—Ä–æ–º–µ–Ω–∏</button>
                                        
                                        {{ include('_modal.html.twig', {
                                            modalTitle: '–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å'
                                       }) }}      
                            </div>
                        </div>
                    {% endif %} 
                </td>
                {% if order.glass == NULL %}
                    {% set button_status_glass = false %}
                    <td> –Ω—è–º–∞ </td>
                {% elseif order.glass.id == lastStatus.lastStatusGlass.id %}
                    {% set button_status_glass = false %}
                    <td class="last"> {{ order.glass.name }} </td>
                {% elseif checkbox_status_glass %}
                    {% set button_status_glass = true %}
                    <td> {{order.glass.name}}
                    <br>
                        <input type="checkbox" name="selectedOrders_glass[]" value="{{ order.id }}" data-status="{{ order.glass.id }}" data-title="–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å —Å—Ç—ä–∫–ª–æ–ø–∞–∫–µ—Ç ">
                         –ü—Ä–æ–º–µ–Ω–∏ </br>
                        <div {{ stimulus_controller('modal-form',{
                                    formUrl: path('app_status_glass'),})
                                    }}
                                    data-action="hidden.bs.modal->modal-form#modalHidden"
                                    >
                                    <button
                                        style="display: none;" 
                                        data-action="modal-form#openModal"
                                        data-order-id="hidden-modal"
                                        data-current-page="hidden"
                                        >—Å–∫—Ä–∏—Ç –±—É—Ç–æ–Ω</button>
                                        {{ include('_modal.html.twig', {
                                            modalTitle: '–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å –°—Ç—ä–∫–ª–æ–ø–∞–∫–µ—Ç'
                                       }) }}      
                        </div> 
                    </td>          
                {% else %}
                    {% set button_status_glass = false %}
                    <td class="{% if (order.glass.name) == '–ù–µ–ø–æ—Ä—ä—á–∞–Ω' %}first
                               {% elseif(order.glass.name) == '–ü–æ—Ä—ä—á–∞–Ω' %}second
                               {% elseif(order.glass.name) == '–î–æ—Å—Ç–∞–≤–µ–Ω' %}third
                               {% endif %}">
                    {{order.glass.name}}
                        
                            <div class="d-flex flex-row">
                                <div {{ stimulus_controller('modal-form',{
                                        formUrl: path('app_status_glass', {'orderId': order.id, })  
                                    }) }}
                                    data-action="hidden.bs.modal->modal-form#modalHidden"
                                    >
                                    {% if showCheckboxes == true %}
                                        {% set filterForm = true %}
                                    {% endif %}
                                        <button
                                        class="btn btn-primary btn-sm" 
                                        data-action="modal-form#openModal reload-content#updateUrl"
                                        data-order-id="{{ order.id }}"
                                         data-current-page="{{ currentPage }}"
                                         data-filter-form="{{ filterForm }}"
                                        >–ø—Ä–æ–º–µ–Ω–∏</button>
                                        {{ include('_modal.html.twig', {
                                            modalTitle: '–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å —Å—Ç—ä–∫–ª–æ–ø–∞–∫–µ—Ç'
                                       }) }}  
                                </div>
                            </div>
                        
                    </td>    
                {% endif %}

                {% if order.detail == NULL %}
                    {% set button_status_detail = false %}
                    <td> –Ω—è–º–∞ </td>
                {% elseif order.detail.id == lastStatus.lastStatusDetail.id %}
                    {% set button_status_detail = false %}
                    <td class="last"> {{ order.detail.name }} </td>
                {% elseif checkbox_status_detail %}
                    {% set button_status_detail = true %}
                    <td> {{order.detail.name}}
                    <br>
                        <input type="checkbox" name="selectedOrders_detail[]" value="{{ order.id }}" data-status="{{ order.detail.id }}" data-title="–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å –î–û–ü–™–õ–ù–ò–¢–ï–õ–ï–ù –î–ï–¢–ê–ô–õ">
                         –ü—Ä–æ–º–µ–Ω–∏ </br>
                        <div {{ stimulus_controller('modal-form',{
                                    formUrl: path('app_status_detail'),})
                                    }}
                                    data-action="hidden.bs.modal->modal-form#modalHidden"
                                    >
                                    <button
                                        style="display: none;" 
                                        data-action="modal-form#openModal"
                                        data-order-id="hidden-modal"
                                        data-current-page="hidden"
                                        >—Å–∫—Ä–∏—Ç –±—É—Ç–æ–Ω</button>
                                        {{ include('_modal.html.twig', {
                                            modalTitle: '–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–µ–Ω –ø—Ä–æ—Ñ–∏–ª' 
                                       }) }}      
                            </div> 
                    </td>
                    {% else %}
                        {% set button_status_detail = false %}  
                        <td class="{% if (order.detail.name) == '–ü—Ä–∏–µ—Ç' %}first
                                   {% elseif(order.detail.name) == '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ' %}second
                                   {% elseif(order.detail.name) == '–ì–æ—Ç–æ–≤' %}third
                                   {% endif %}"> 
                        {{ order.detail.name }} 
                            <div class="d-flex flex-row">
                                <div {{ stimulus_controller('modal-form',{
                                   formUrl: path('app_status_detail', {'orderId': order.id})  
                                  }) }}
                                   data-action="hidden.bs.modal->modal-form#modalHidden"
                                    >
                                    {% if showCheckboxes == true %}
                                        {% set filterForm = true %}
                                    {% endif %}
                                    <button
                                        class="btn btn-primary btn-sm" 
                                        data-action="modal-form#openModal reload-content#updateUrl"
                                        data-order-id="{{ order.id }}" 
                                        data-current-page="{{ currentPage }}"
                                        data-filter-form="{{ filterForm }}"
                                        >–ø—Ä–æ–º–µ–Ω–∏</button>
                                        {{ include('_modal.html.twig', {
                                            modalTitle: '–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å –ü—Ä–æ—Ñ–∏–ª'
                                       }) }}       
                                </div>
                            </div>
                        </td>        
                {% endif %}
    
                {% if order.mosquito == NULL %}
                    {% set button_status_mosquito = false %}
                    <td> –Ω—è–º–∞ </td>
                {% elseif order.mosquito.id == lastStatus.lastStatusMosquito.id %}
                    {% set button_status_mosquito = false %}
                    <td class="last"> {{ order.mosquito.name }} </td>
                {% elseif checkbox_status_mosquito %}
                    {% set button_status_mosquito = true %}
                    <td> {{order.mosquito.name}}
                    <br>
                        <input type="checkbox" name="selectedOrders_mosquito[]" value="{{ order.id }}" data-status="{{ order.mosquito.id }}" data-title="–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å –ö–û–ú–ê–†–ù–ò–ö">
                         –ü—Ä–æ–º–µ–Ω–∏ </br>
                         <div {{ stimulus_controller('modal-form',{
                                    formUrl: path('app_status_mosquito'),})
                                    }}
                                    data-action="hidden.bs.modal->modal-form#modalHidden"
                                    >
                                    <button
                                        style="display: none;" 
                                        data-action="modal-form#openModal"
                                        data-order-id="hidden-modal"
                                        data-current-page="hidden"
                                        >—Å–∫—Ä–∏—Ç –±—É—Ç–æ–Ω</button>
                                        {{ include('_modal.html.twig', {
                                            modalTitle: '–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å –ö–æ–º–∞—Ä–Ω–∏–∫'
                                       }) }}      
                            </div> 
                    </td>
                {% else %}
                    {% set button_status_mosquito = false %}
                    <td class="{% if (order.mosquito.name) == '–ü—Ä–∏–µ—Ç' %}first
                               {% elseif(order.mosquito.name) == '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ' %}second
                               {% elseif(order.mosquito.name) == '–ì–æ—Ç–æ–≤' %}third
                               {% endif %}">
                    {{ order.mosquito.name }}
                         <div class="d-flex flex-row">
                            <div {{ stimulus_controller('modal-form',{
                                   formUrl: path('app_status_mosquito', {'orderId': order.id})  
                                  }) }}
                                  data-action="hidden.bs.modal->modal-form#modalHidden"
                                    >
                                    {% if showCheckboxes == true %}
                                        {% set filterForm = true %}
                                    {% endif %}
                                    <button
                                        class="btn btn-primary btn-sm" 
                                        data-action="modal-form#openModal reload-content#updateUrl"
                                        data-order-id="{{ order.id }}"
                                        data-current-page="{{ currentPage }}"
                                        data-filter-form="{{ filterForm }}" 
                                        >–ø—Ä–æ–º–µ–Ω–∏</button>
                                        {{ include('_modal.html.twig', {
                                            modalTitle: '–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å –∫–æ–º–∞—Ä–Ω–∏–∫'
                                       }) }}      
                            </div>
                        </div>
                    </td>    
                {% endif %}
                
                <td>   
                    <a href="{{ path('app_order_edit', {'id': order.id}) }}" target="_top" title="Edit">‚úç</a>
                   
                </td>
            </tr>
            
        {% endfor %}
        <tfoot>
        <!-- –î–æ–±–∞–≤—è–º–µ –ø–æ–¥ –≤—Å—è–∫–∞ –∫–æ–ª–æ–Ω–∞ –±—É—Ç–æ–Ω –∑–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –∏–∑–±—Ä–∞–Ω–∏—Ç–µ –ø–æ—Ä—ä—á–∫–∏ -->
        <tr>        
        
        {% if (button_status_order) or (button_status_glass)
        or (button_status_detail) or (button_status_mosquito) %}
        <!-- –î–æ–±–∞–≤—è–º–µ –ø–æ–¥ –≤—Å—è–∫–∞ –∫–æ–ª–æ–Ω–∞ –±—É—Ç–æ–Ω –∑–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –∏–∑–±—Ä–∞–Ω–∏—Ç–µ –ø–æ—Ä—ä—á–∫–∏ -->
            <td colspan="4">–û–±—â –±—Ä–æ–π –ø–æ—Ä—ä—á–∫–∏:<span style="margin-left: 15px">{{ total_sum[0][4] }}</span> </td>
            <td>{{ total_sum[0][1]}}</td>
            <td colspan="2"></td>
            <td>{{ total_sum[0][2] }}</td>
            <td>{{ total_sum[0][3] }}</td>
            <td>{{ total_sum[0][2] - total_sum[0][3] }}</td>
            <td></td>
            {% if button_status_order %}
            <td > 
                <button id="changeStatusButton" class="btn btn-primary" >–ü—Ä–æ–º–µ–Ω–∏ –∏–∑–±—Ä–∞–Ω–∏—Ç–µ</button>
            </td>
            {% else %} 
            <td></td>
            {% endif %}
            {% if button_status_glass %}
            <td >
            <button id="changeStatusButtonGlass" class="btn btn-primary">–ü—Ä–æ–º–µ–Ω–∏ –∏–∑–±—Ä–∞–Ω–∏—Ç–µ</button>
            </td>
            {% else %}
            <td></td>
            {% endif %}
            {% if button_status_detail %}
            <td>
                <button id="changeStatusButtonDetail" class="btn btn-primary">–ü—Ä–æ–º–µ–Ω–∏ –∏–∑–±—Ä–∞–Ω–∏—Ç–µ</button>
            </td>
            {% else %}
            <td></td>
            {% endif %}
            {% if button_status_mosquito %}
            <td>
                <button id="changeStatusButtonMosquito" class="btn btn-primary">–ü—Ä–æ–º–µ–Ω–∏ –∏–∑–±—Ä–∞–Ω–∏—Ç–µ</button>
            </td>
            {% else %}
            <td></td>
            {% endif %}
            <td></td>
        {% else %}
        <td colspan="4">–û–±—â –±—Ä–æ–π –ø–æ—Ä—ä—á–∫–∏:<span style="margin-left: 15px">{{ total_sum[0][4] }}</span> </td>
            <td>{{ total_sum[0][1]}}</td>
            <td colspan="2"></td>
            <td>{{ total_sum[0][2] }}</td>
            <td>{{ total_sum[0][3] }}</td>
            <td>{{ total_sum[0][2] - total_sum[0][3] }}</td>
            <td colspan="5"><td>
        </tr>
    </tfoot>
        {% endif %}
        
        </tbody>
    </table>

        
        
        </tbody>
    </table>
    
  <div data-turbo='false'> 
  {{ pagerfanta(orders, 'twitter_bootstrap5', { 
        prev_message: '–ü—Ä–µ–¥–∏—à–Ω–∞',
        next_message: '–°–ª–µ–¥–≤–∞—â–∞',
        
        }) }}  
        </div>
   </div>     
      
  {# {{ knp_pagination_render(orders) }} #}
 </turbo-frame>   

<script src="{{ asset('build/app.js') }}"></script>

    <script>
        function checkFile(orderId) {
            var fileInput = document.getElementById('fileInput_' + orderId);
            var filenameInput = document.getElementById('filename_' + orderId);
            var fileError = document.getElementById('fileError_' + orderId);
            
            
            if (!fileInput.value) {
                fileError.style.display = 'block';
                return false; // –ü—Ä–µ–∫—Ä–∞—Ç—è–≤–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ—Ç–æ –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞
            } else {
                fileError.style.display = 'none';
                console.log("JSHTML:", filenameInput);
                return true; // –ü–æ–∑–≤–æ–ª—è–≤–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ—Ç–æ –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞
            }
        }


        //–∫–æ–¥ –∑–∞ —Å–æ—Ä—Ç–∏—Ä–∞–Ω–µ –ø–æ –∫–æ–ª–æ–Ω–∞ "–æ—Å—Ç–∞—Ç—ä–∫"
var originalOrder = [];

window.onload = function() {
    saveOriginalOrder();
};

function saveOriginalOrder() {
    var table = document.getElementById("order-table");
    var rows = table.rows;

    for (var i = 1; i < rows.length; i++) {
        originalOrder.push(rows[i].outerHTML);
    }
}

function sortTable(columnIndex, order) {
    var table, rows, switching, i, x, y, shouldSwitch;
    table = document.getElementById("order-table");
    switching = true;

    while (switching) {
        switching = false;
        rows = table.rows;
        for (i = 1; i < (rows.length - 1); i++) {
            shouldSwitch = false;
            x = rows[i].getElementsByTagName("TD")[columnIndex];
            y = rows[i + 1].getElementsByTagName("TD")[columnIndex];

            // Compare values for descending order
            if (order === 'desc') {
                if (parseFloat(x.innerHTML) < parseFloat(y.innerHTML)) {
                    shouldSwitch = true;
                    break;
                }
            }
        }
        if (shouldSwitch) {
            rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
            switching = true;
        }
    }
}
function resetTable() {
    var table = document.getElementById("order-table");
    var rows = table.rows;

    // Clear current rows
    for (var i = rows.length - 1; i > 0; i--) {
        table.deleteRow(i);
    }

    // Restore original rows
    for (var i = 0; i < originalOrder.length; i++) {
        table.tBodies[0].insertRow().outerHTML = originalOrder[i];
    }
}
     
    </script>


    


   