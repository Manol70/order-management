{% extends 'base.html.twig' %}

{% block title %}Справка за дата{% endblock %}

{% block body %}
<style>
</style>

<div class="example-wrapper">
    <a href="/order"><input type="button" class="btn btn-success" value="НАЧАЛО" data-turbo-frame="orders_frame" style="float: left; margin-top: 20px;"></a>
    <h2>СПРАВКА ЗА {{ date|date('d.m.Y') }} </h2>
<div class="reference-form" data-turbo="false">
    {{ form_start(referenceDateStatusForm) }}
    <div class="form-row">
        <div class="form-field">
        {{ form_label(referenceDateStatusForm.for_date, 'Дата') }}
        {{ form_widget(referenceDateStatusForm.for_date) }}
        </div>
        <div class="form-field">
        {{ form_label(referenceDateStatusForm.type, 'Тип') }}
        {{ form_widget(referenceDateStatusForm.type) }}
        </div>
        <div class="form-field">
        {{ form_label(referenceDateStatusForm.status, 'Статус') }}
        {{ form_widget(referenceDateStatusForm.status) }}
        </div>
    </div>   
        <button type="submit" class="btn btn-primary">Виж</button> 
    {{ form_end(referenceDateStatusForm) }}  
</div>
<div class="table-responsive-sm p-0 mt-2">
    <table class="table table-sm table-hover table-sticky">
        <thead class="thead-light"> 
            <tr>
                <th> ПОРЪЧКА № </th>
                <th> ТИП </th>
                <th> КЛИЕНТ </th>
                <th> m2 </th>
                <th> Статусът е променен на </th>
                <th> Променил </th>
            </tr>
        </thead>
        <tbody>
            {% for status in statuses %}
            <tr>
                <td> {{ status[0].number_order }} </td>
                <td> {{ status.typeName }} </td>
                <td> {{ status.customerName }} </td>
                <td> {{ status[0]._order.quadrature }} </td>
                <td> {{ status[0].status.name }} </td>
                <td> {{ status[0].user.email }} </td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3">Обща квадратура</td>
                <td>{{ totalQuadrature }}</td>
            </tr>
        </tfoot>
    </table>
</div>

{% endblock %}